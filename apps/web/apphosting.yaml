# Firebase App Hosting Configuration
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  cpu: 1
  memoryMiB: 512
  minInstances: 0
  maxInstances: 10
  concurrency: 80
  vpcAccess:
    egress: PRIVATE_RANGES_ONLY
    networkInterfaces:
      - network: synchire-network
        subnetwork: synchire-subnet

env:
  # Public environment variables (needed at build time for Next.js)
  - variable: NEXT_PUBLIC_STREAM_API_KEY
    value: 98ftk7pxystq
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_DEMO_USER_NAME
    value: Demo Candidate
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_DEMO_USER_EMAIL
    value: demo@synchire.com
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_LOGO_DEV_KEY
    value: pk_FgUgq-__SdOal0JNAYVqJQ
    availability:
      - BUILD
      - RUNTIME

  # Python Agent Cloud Run URL (runtime only)
  - variable: PYTHON_AGENT_URL
    value: https://sync-hire-agent-297349712190.asia-southeast1.run.app
    availability:
      - RUNTIME

  # Database configuration
  - variable: USE_DATABASE
    value: "true"
    availability:
      - RUNTIME

  # Cloud Storage configuration
  - variable: USE_CLOUD_STORAGE
    value: "true"
    availability:
      - RUNTIME
  - variable: GCS_BUCKET
    value: synchire-uploads
    availability:
      - RUNTIME

  # Better Auth URL (public)
  - variable: BETTER_AUTH_URL
    value: https://sync-hire.com
    availability:
      - BUILD
      - RUNTIME
  - variable: NEXT_PUBLIC_BETTER_AUTH_URL
    value: https://sync-hire.com
    availability:
      - BUILD
      - RUNTIME

  # Database connection (needed at build time for Prisma generate)
  - variable: DATABASE_URL
    secret: DATABASE_URL
    availability:
      - BUILD
      - RUNTIME

  # AI & Video secrets
  - variable: GEMINI_API_KEY
    secret: GEMINI_API_KEY
    availability:
      - RUNTIME
  - variable: STREAM_API_SECRET
    secret: STREAM_API_SECRET
    availability:
      - RUNTIME

  # Better Auth secret
  - variable: BETTER_AUTH_SECRET
    secret: BETTER_AUTH_SECRET
    availability:
      - RUNTIME

  # Google OAuth credentials
  - variable: GOOGLE_CLIENT_ID
    secret: GOOGLE_CLIENT_ID
    availability:
      - RUNTIME
  - variable: GOOGLE_CLIENT_SECRET
    secret: GOOGLE_CLIENT_SECRET
    availability:
      - RUNTIME

  # Python Agent API Key
  - variable: API_SECRET_KEY
    secret: API_SECRET_KEY
    availability:
      - RUNTIME
